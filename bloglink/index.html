<!doctype html><html lang=ru-ru dir=ltr><head><meta property="og:title" content="Блог"><meta property="og:description" content="Где растут идеи"><meta property="og:type" content="website"><meta property="og:url" content="https://paperless-forest.ru/bloglink/"><meta property="og:site_name" content="Paperless Forest"><title>Блог | Paperless Forest</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.4ac9256ede19cde5318c092b23f7f5d68ec2e3b93774785ed2b5cfabb186a4e8.css integrity="sha256-Ssklbt4ZzeUxjAkrI/f11o7C47k3dHhe0rXPq7GGpOg=" crossorigin=anonymous><link rel=alternate type=application/rss+xml href=https://paperless-forest.ru/bloglink/index.xml title><meta charset=utf-8><meta name=description content="blog"><title>Блог</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://paperless-forest.ru/favicon.png><link href=https://paperless-forest.ru/styles.7297995f6eb78254153de0ea04fc36b5.min.css rel=stylesheet><link href=https://paperless-forest.ru/quartz/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><link rel=preload href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css as=style onload='this.onload=null,this.rel="stylesheet"' integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://paperless-forest.ru/quartz/js/darkmode.f99125b17a07c69ab2ee0c2808864092.min.js></script>
<script src=https://paperless-forest.ru/quartz/js/util.c69e233dc1cc331a30b0f670e657b425.min.js></script>
<script async src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script async src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://paperless-forest.ru/myscripts/popover.b468944f699466f47c4cb763c48779aa.min.js></script>
<script defer src=https://paperless-forest.ru/quartz/js/code-title.ce4a43f09239a9efb48fee342e8ef2df.min.js></script>
<script defer src=https://paperless-forest.ru/quartz/js/clipboard.2913da76d3cb21c5deaa4bae7da38c9f.min.js></script>
<script defer src=https://paperless-forest.ru/quartz/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const SEARCH_ENABLED=!1,LATEX_ENABLED=!0,PRODUCTION=!0,BASE_URL="https://paperless-forest.ru",fetchData=Promise.all([fetch("https://paperless-forest.ru/indices/linkIndex.f0c7658aafa20bd2de20fa9ac697421a.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://paperless-forest.ru/indices/contentIndex.e1218c88b2e9520733f47bb3df326219.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,o=t==n;addCopyButtons(),addCollapsibleCallouts(),initPopover("https://paperless-forest.ru",!0);var s=document.getElementsByClassName("mermaid");s.length>0&&import("https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs").then(e=>{e.default.init()})},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'’':"'"},throwOnError:!1})}</script><script>window.Million={navigate:e=>window.location.href=e,prefetch:()=>{}},window.addEventListener("DOMContentLoaded",()=>{init(),render()})</script></head><header class=bare-header><div class=menu-control-wrapper><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label></div></header><div id=search-container><div id=search-space><input value=test autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://paperless-forest.ru/quartz/js/full-text-search.e6e2e0c213187ca0c703d6e2c7a77fcd.min.js></script><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control><main class=main-container><aside class=book-menu><div class=book-menu-content><div class=profile-image><a href=/><img src=/images/avatar.jpg alt="profile image"></a></div><div class=icons-bar><div class=icon-bar-item><a href=/about title="Обо мне"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2c5.5228.0 10 4.47715 10 10 0 5.5228-4.4772 10-10 10C6.47715 22 2 17.5228 2 12 2 6.47715 6.47715 2 12 2zM12.1597 16C10.1243 16 8.29182 16.8687 7.01276 18.2556 8.38039 19.3474 10.114 20 12 20c1.9695.0 3.7727-.7117 5.1666-1.8919C15.8956 16.8074 14.1219 16 12.1597 16zM12 4C7.58172 4 4 7.58172 4 12c0 1.8106.6015 3.4807 1.61557 4.8214C7.25639 15.0841 9.58144 14 12.1597 14c2.4844.0 4.7336 1.0066 6.3621 2.6342C19.4526 15.3267 20 13.7273 20 12c0-4.41828-3.5817-8-8-8zm0 1c2.2091.0 4 1.79086 4 4 0 2.2091-1.7909 4-4 4-2.20914.0-4-1.7909-4-4 0-2.20914 1.79086-4 4-4zm0 2c-1.1046.0-2 .89543-2 2 0 1.1046.8954 2 2 2s2-.8954 2-2c0-1.10457-.8954-2-2-2z" fill="rgba(64,64,64,1)"/></svg></a></div><div class=icon-bar-item><a href=https://github.com/anareaty/ target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.001 2C6.47598 2 2.00098 6.475 2.00098 12c0 4.425 2.8625 8.1625 6.8375 9.4875C9.33848 21.575 9.52598 21.275 9.52598 21.0125 9.52598 20.775 9.51348 19.9875 9.51348 19.15 7.00098 19.6125 6.35098 18.5375 6.15098 17.975 6.03848 17.6875 5.55098 16.8 5.12598 16.5625 4.77598 16.375 4.27598 15.9125 5.11348 15.9 5.90098 15.8875 6.46348 16.625 6.65098 16.925 7.55098 18.4375 8.98848 18.0125 9.56348 17.75 9.65098 17.1 9.91348 16.6625 10.201 16.4125c-2.22502-.25-4.55002-1.1125-4.55002-4.9375.0-1.0875.3875-1.9875 1.025-2.6875C6.57598 8.5375 6.22598 7.5125 6.77598 6.1375c0 0 .8375-.2625 2.75 1.025C10.326 6.9375 11.176 6.825 12.026 6.825S13.726 6.9375 14.526 7.1625c1.9125-1.3 2.75-1.025 2.75-1.025C17.826 7.5125 17.476 8.5375 17.376 8.7875 18.0135 9.4875 18.401 10.375 18.401 11.475c0 3.8375-2.3375 4.6875-4.5625 4.9375C14.201 16.725 14.5135 17.325 14.5135 18.2625 14.5135 19.6 14.501 20.675 14.501 21.0125 14.501 21.275 14.6885 21.5875 15.1885 21.4875 19.259 20.1133 21.9999 16.2963 22.001 12c0-5.525-4.475-10-10-10z" fill="rgba(64,64,64,1)"/></svg></a></div><div class=icon-bar-item><a href=https://t.me/anareaty target=_blank title=Telegram rel=me><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.001 20c4.4183.0 8-3.5817 8-8 0-4.41828-3.5817-8-8-8-4.4183.0-8.00002 3.58172-8.00002 8 0 4.4183 3.58172 8 8.00002 8zm0 2C6.47813 22 2.00098 17.5228 2.00098 12c0-5.52285 4.47715-10 10.00002-10 5.5228.0 10 4.47715 10 10 0 5.5228-4.4772 10-10 10zM8.89113 13.1708l-2.49805-.7797C5.85317 12.2255 5.84996 11.854 6.51397 11.5871L16.247 7.82754C16.8115 7.59644 17.1325 7.88842 16.9495 8.61641L15.2917 16.4377C15.1763 16.9941 14.8407 17.1266 14.3759 16.8698L11.825 14.9823l-1.1889 1.1474C10.5139 16.2476 10.4145 16.3489 10.2273 16.3743 10.04 16.3996 9.88564 16.3442 9.77337 16.0337L8.90378 13.1628 8.89113 13.1708z" fill="rgba(64,64,64,1)"/></svg></a></div><div class="menu-search icon-bar-item"><div id=search-icon class=quartz-search><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div></div><div class=icon-bar-item><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></div></div><nav><ul><li><a href=/>Главная</a></li></ul><ul><li><a href=/bloglink/ class=active>Блог</a><ul></ul></li><li><a href=/Canvas-style-menu-settings/>Пресет настроек для плагина Canvas Style Menu</a></li><li><a href=/sidebar-images/>Css для картинок в сайдбаре</a></li><li><a href=/obsidian/>Obsidian</a></li><li><a href=/custom-checkboxes/>Кастомные чекбоксы в Obsidian</a></li><li><a href=/obsidian-quickadd-how-to-run-scripts/>Obsidian QuickAdd - как запускать скрипты</a></li><li><a href=/pocketbook-collection-manager/>Менеджер коллекций для Покетбука</a></li><li><a href=/three-act-structure/>Трёхактная структура</a></li><li><a href=/how-to-reuse-dataviewjs-code/>Как переиспользовать код с помощью dataviewjs</a></li><li><a href=/sync-syncthing-without-internet/>Синхронизация через Syncthing без интернета</a></li></ul><div>https://paperless-forest.ru/bloglink/</div><ul><li>Пресет настроек для плагина Canvas Style Menu</li><li><div>https://paperless-forest.ru/Canvas-style-menu-settings/</div><div>Page(/Canvas-style-menu-settings.md)</div></li><ul></ul><li>Css для картинок в сайдбаре</li><li><div>https://paperless-forest.ru/sidebar-images/</div><div>Page(/sidebar-images.md)</div></li><ul></ul><li>Obsidian</li><li><div>https://paperless-forest.ru/obsidian/</div><div>Page(/obsidian.md)</div></li><ul><li>Obsidian QuickAdd - как запускать скрипты</li><li><div>https://paperless-forest.ru/obsidian-quickadd-how-to-run-scripts/</div><div>Page(/obsidian.md)</div></li><ul></ul></ul><li>Кастомные чекбоксы в Obsidian</li><li><div>https://paperless-forest.ru/custom-checkboxes/</div><div>Page(/custom-checkboxes.md)</div></li><ul></ul><li>Менеджер коллекций для Покетбука</li><li><div>https://paperless-forest.ru/pocketbook-collection-manager/</div><div>Page(/pocketbook-collection-manager.md)</div></li><ul></ul><li>Трёхактная структура</li><li><div>https://paperless-forest.ru/three-act-structure/</div><div>Page(/three-act-structure.md)</div></li><ul></ul><li>Как переиспользовать код с помощью dataviewjs</li><li><div>https://paperless-forest.ru/how-to-reuse-dataviewjs-code/</div><div>Page(/how-to-reuse-dataviewjs-code.md)</div></li><ul></ul><li>Синхронизация через Syncthing без интернета</li><li><div>https://paperless-forest.ru/sync-syncthing-without-internet/</div><div>Page(/sync-syncthing-without-internet.md)</div></li><ul></ul></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class="book-page container"><article class=blog-header><h2 class=article-title><a href=/change-site-structure/>Изменение структуры сайта</a></h2><div class=article-date>23 января 2024</div><div><a href=/tags/%D1%81%D0%B0%D0%B9%D1%82/ class=tag>#сайт</a>
<a href=/tags/%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/ class=tag>#обновления</a></div><p><blockquote class="important-callout callout"><p>Важное обновление</p></blockquote><p>Я решила полностью переделать структуру сайта. К сожалению, это означает, что большинство старых ссылок на страницы из внешних источников перестанет работать. К счастью, страниц здесь пока всё равно не слишком много.</p><p>Причина в том, что предыдущая структура мне не слишком нравилась и казалась ненадёжной. Во-первых, ссылки получались слишком длинными. Во-вторых, любое перекладывание страницы в другую категорию неизбежно означало бы, что ссылка сломается. Между тем, у меня далеко не всегда получается сразу определить, в какую категорию отнести страницу, а с увеличением количества страниц путаница неизбежна.</p><p>Поэтому я решила, что теперь все мои страницы будут лежать в корне сайта и не вкладываться ни в какие папки, и, соответственно, ссылки на них никогда меняться не будут. А категоризировать их я буду не через папки, а каким-нибудь другим способом.</p><p>Сейчас это означает, что меню навигации утратило древовидную структуру, и все ссылки в нём отображаются одним списком. Но меню я надеюсь поправить отдельно, немного поковырявшись в шаблоне.</p><p>Если в результате изменений вы потеряли какую-то ссылку, то вот перечень ссылок, которые изменились:</p><ul><li><a id=link-1cc343ef83d4677049abb31787022c03 href=/pocketbook-collection-manager rel=noopener class=internal-link data-src=/pocketbook-collection-manager>Менеджер коллекций для Покетбука</a></li><li><a id=link-cb50b81e96fb4bdbd0d186b4a3e38d9d href=/obsidian-quickadd-how-to-run-scripts rel=noopener class=internal-link data-src=/obsidian-quickadd-how-to-run-scripts>Obsidian QuickAdd - как запускать скрипты</a></li><li><a id=link-7946dff20178fa0e444e8674965da40f href=/how-to-reuse-dataviewjs-code rel=noopener class=internal-link data-src=/how-to-reuse-dataviewjs-code>Как переиспользовать код с помощью dataviewjs</a></li><li><a id=link-c77f0766f6aad3957bc6af154c5df82a href=/three-act-structure rel=noopener class=internal-link data-src=/three-act-structure>Трёхактная структура</a></li><li><a id=link-c13d5bd041b56eedb04da15caaaef84b href=/sync-syncthing-without-internet rel=noopener class=internal-link data-src=/sync-syncthing-without-internet>Синхронизация через Syncthing без интернета</a></li><li><a id=link-4f893d49a7cb3d19425760545f668148 href=/obsidian rel=noopener class=internal-link data-src=/obsidian>Obsidian</a></li><li><a id=link-1535f4b1b308cc30d355e722da698e5c href=/custom-checkboxes rel=noopener class=internal-link data-src=/custom-checkboxes>Кастомные чекбоксы в Obsidian</a></li><li><a id=link-7b4854c39e93d252ccfae3403a820529 href=/sidebar-images rel=noopener class=internal-link data-src=/sidebar-images>Css для картинок в сайдбаре</a></li><li><a id=link-2925cec99571bafe4488902eeb5e4a23 href=/Canvas-style-menu-settings rel=noopener class=internal-link data-src=/Canvas-style-menu-settings>Пресет настроек для плагина Canvas Style Menu</a></li></ul><div id=popover-1cc343ef83d4677049abb31787022c03 class=pp><p>У меня есть читалка Покетбук, и в ней можно сортировать книги по полочкам. Но массово это в самой читалке делать неудобно, так что я накодила вот такую прогу:
<a href=https://github.com/anareaty/PocketBook_Collection_Manager rel=noopener>PocketBook Collection Manager</a>.</p><p>Дизайн оставляет желать лучшего (дизайнер я ещё меньше, чем программист), но дело своё делает.</p></div><div id=popover-cb50b81e96fb4bdbd0d186b4a3e38d9d class=pp><p>Плагин для <a href=/obsidian rel=noopener class=internal-link data-src=/obsidian>Обсидиана</a> QuickAdd позволяет автоматически создавать заметки, но ещё его можно использовать в качестве запускалки скриптов.</p><h2 id=javascript>Javascript
<a class=anchor href=#javascript>#</a></h2><ul><li>Создать файл в формате js и сохранить его в любом месте хранилища.</li><li>В файле написать код:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>module</span>.<span style=color:#a6e22e>exports</span> <span style=color:#f92672>=</span>  <span style=color:#66d9ef>async</span> (<span style=color:#a6e22e>params</span>) =&gt; {
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>  <span style=color:#e6db74>/Мой код. В нём можно использовать API Обсидиана и самого плагина./</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>В настройках QuickAdd создать макрос и в настройках макроса выбрать созданный скрипт.</li><li>Не забыть отметить значок молнии рядом с названием макроса, чтобы активировалась команда. Потом эту команду можно подвязать на хоткей или добавить кнопочку с помощью плагина Commander.</li></ul><h2 id=другие-языки-и-прочие-файлы>Другие языки и прочие файлы
<a class=anchor href=#%d0%b4%d1%80%d1%83%d0%b3%d0%b8%d0%b5-%d1%8f%d0%b7%d1%8b%d0%ba%d0%b8-%d0%b8-%d0%bf%d1%80%d0%be%d1%87%d0%b8%d0%b5-%d1%84%d0%b0%d0%b9%d0%bb%d1%8b>#</a></h2><p>QuickAdd не может сам исполнять код на других языках, но может открывать файлы в программе по умолчанию, что позволяет нам запускать, например, shell-скрипты или любые другие файлы, для которых у нас установлена соответствующая программа.</p><ul><li>Нужно добавить файл, который мы хотим запустить, в хранилище. Например, это может быть bash-файл, который коммитит и пушит заметки на гитхаб.</li><li>Создать js-скрипт и макрос по инструкции выше.</li><li>В js-файле написать код:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>module</span>.<span style=color:#a6e22e>exports</span> <span style=color:#f92672>=</span>  <span style=color:#66d9ef>async</span> (<span style=color:#a6e22e>params</span>) =&gt; {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>scriptPath</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;\\scripts\\myFile.sh&#34;</span> <span style=color:#f92672>/</span><span style=color:#a6e22e>Здесь</span> <span style=color:#a6e22e>вместо</span> <span style=color:#a6e22e>моего</span> <span style=color:#a6e22e>примера</span> <span style=color:#a6e22e>надо</span> <span style=color:#a6e22e>указать</span> <span style=color:#a6e22e>путь</span> <span style=color:#a6e22e>к</span> <span style=color:#a6e22e>файлу</span>, <span style=color:#a6e22e>который</span> <span style=color:#a6e22e>мы</span> <span style=color:#a6e22e>хотим</span> <span style=color:#a6e22e>запустить</span>. <span style=color:#a6e22e>Путь</span> <span style=color:#a6e22e>указывается</span> <span style=color:#a6e22e>относительно</span> <span style=color:#a6e22e>хранилища</span>. <span style=color:#a6e22e>Обязательно</span> <span style=color:#a6e22e>надо</span> <span style=color:#a6e22e>эскейпить</span> <span style=color:#a6e22e>обратные</span> <span style=color:#a6e22e>слэши</span><span style=color:#f92672>/</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>cmd</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>vault</span>.<span style=color:#a6e22e>adapter</span>.<span style=color:#a6e22e>basePath</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>scriptPath</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>promisify</span> } <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;util&#39;</span>); 
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>exec</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>promisify</span>(<span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;child_process&#39;</span>).<span style=color:#a6e22e>exec</span>); 
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>exec</span>(<span style=color:#a6e22e>cmd</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Этот скрипт запускает файлы на Windows. В других системах код может отличаться, в частности, путь будет записываться прямыми слэшами, но может, есть и другие нюансы, не знаю. Поскольку мы не прописываем напрямую путь к хранилищу, а находим его с помощью кода, этот скрипт может работать на разных устройствах.</p><h2 id=запрашивать-подтверждение-перед-выполнением-скрипта>Запрашивать подтверждение перед выполнением скрипта
<a class=anchor href=#%d0%b7%d0%b0%d0%bf%d1%80%d0%b0%d1%88%d0%b8%d0%b2%d0%b0%d1%82%d1%8c-%d0%bf%d0%be%d0%b4%d1%82%d0%b2%d0%b5%d1%80%d0%b6%d0%b4%d0%b5%d0%bd%d0%b8%d0%b5-%d0%bf%d0%b5%d1%80%d0%b5%d0%b4-%d0%b2%d1%8b%d0%bf%d0%be%d0%bb%d0%bd%d0%b5%d0%bd%d0%b8%d0%b5%d0%bc-%d1%81%d0%ba%d1%80%d0%b8%d0%bf%d1%82%d0%b0>#</a></h2><p>Это может быть полезно, если скрипт делает что-то опасное, или если мы используем автоматизированный запуск скрипта, но иногда хотим от него отказаться. Например, у меня настроен скрипт, который делает пул с гитхаба каждый раз при запуске программы, но иногда я закрываю и открываю Обсидиан несколько раз в течение рабочего дня и не вижу смысла каждый раз пулить.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>module</span>.<span style=color:#a6e22e>exports</span> <span style=color:#f92672>=</span>  <span style=color:#66d9ef>async</span> (<span style=color:#a6e22e>params</span>) =&gt; {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>quickAddApi</span><span style=color:#f92672>:</span> { <span style=color:#a6e22e>yesNoPrompt</span> } } <span style=color:#f92672>=</span> <span style=color:#a6e22e>params</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>runScript</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>yesNoPrompt</span>(<span style=color:#e6db74>&#34;Выполнить скрипт?&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>runScript</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>/Здесь пишем код, который будет выполняться при подтверждении/</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=вызывать-системные-команды-обсидиана-изнутри-скрипта>Вызывать системные команды Обсидиана изнутри скрипта
<a class=anchor href=#%d0%b2%d1%8b%d0%b7%d1%8b%d0%b2%d0%b0%d1%82%d1%8c-%d1%81%d0%b8%d1%81%d1%82%d0%b5%d0%bc%d0%bd%d1%8b%d0%b5-%d0%ba%d0%be%d0%bc%d0%b0%d0%bd%d0%b4%d1%8b-%d0%be%d0%b1%d1%81%d0%b8%d0%b4%d0%b8%d0%b0%d0%bd%d0%b0-%d0%b8%d0%b7%d0%bd%d1%83%d1%82%d1%80%d0%b8-%d1%81%d0%ba%d1%80%d0%b8%d0%bf%d1%82%d0%b0>#</a></h2><p>Вообще-то QuickAdd может сам вызывать команды через макрос, безо всяких скриптов. Но иногда нам может понадобиться обернуть команду в какой-то код, и для этого нам поможет такой скрипт:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>module</span>.<span style=color:#a6e22e>exports</span> <span style=color:#f92672>=</span>  <span style=color:#66d9ef>async</span> (<span style=color:#a6e22e>params</span>) =&gt; {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>/Какой-то код/</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>commands</span>.<span style=color:#a6e22e>executeCommandById</span>(<span style=color:#a6e22e>id</span>) <span style=color:#f92672>/</span><span style=color:#a6e22e>где</span> <span style=color:#a6e22e>id</span> <span style=color:#960050;background-color:#1e0010>—</span> <span style=color:#a6e22e>это</span> <span style=color:#a6e22e>id</span> <span style=color:#a6e22e>конкретной</span> <span style=color:#a6e22e>команды</span><span style=color:#f92672>/</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#e6db74>/Какой-то код/</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Чтобы узнать id команды, можно открыть консоль и написать код:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>commands</span>.<span style=color:#a6e22e>commands</span>)
</span></span></code></pre></div><p>Это выведет список всех доступных на данный момент команд, включая команды из установленных плагинов, где указаны их названия и id.</p><h2 id=пример--скрипты-для-обновления-вкладок>Пример — скрипты для обновления вкладок
<a class=anchor href=#%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80--%d1%81%d0%ba%d1%80%d0%b8%d0%bf%d1%82%d1%8b-%d0%b4%d0%bb%d1%8f-%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d1%8f-%d0%b2%d0%ba%d0%bb%d0%b0%d0%b4%d0%be%d0%ba>#</a></h2><p>В качестве бонуса — парочка маленьких полезных скриптов, который могут пригодиться.</p><p>Скрипт, чтобы обновить текущую активную вкладку:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>module</span>.<span style=color:#a6e22e>exports</span> <span style=color:#f92672>=</span>  <span style=color:#66d9ef>async</span> (<span style=color:#a6e22e>params</span>) =&gt; {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>workspace</span>.<span style=color:#a6e22e>activeLeaf</span>.<span style=color:#a6e22e>rebuildView</span>()
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Скрипт, чтобы обновить все открытые вкладки:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>module</span>.<span style=color:#a6e22e>exports</span> <span style=color:#f92672>=</span>  <span style=color:#66d9ef>async</span> (<span style=color:#a6e22e>params</span>) =&gt; {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>workspace</span>.<span style=color:#a6e22e>rightSplit</span>.<span style=color:#a6e22e>children</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#a6e22e>pane</span> =&gt; {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pane</span>.<span style=color:#a6e22e>children</span>[<span style=color:#a6e22e>pane</span>.<span style=color:#a6e22e>currentTab</span>].<span style=color:#a6e22e>rebuildView</span>()
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>workspace</span>.<span style=color:#a6e22e>leftSplit</span>.<span style=color:#a6e22e>children</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#a6e22e>pane</span> =&gt; {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pane</span>.<span style=color:#a6e22e>children</span>[<span style=color:#a6e22e>pane</span>.<span style=color:#a6e22e>currentTab</span>].<span style=color:#a6e22e>rebuildView</span>()
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>workspace</span>.<span style=color:#a6e22e>rootSplit</span>.<span style=color:#a6e22e>children</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#a6e22e>pane</span> =&gt; {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pane</span>.<span style=color:#a6e22e>children</span>[<span style=color:#a6e22e>pane</span>.<span style=color:#a6e22e>currentTab</span>].<span style=color:#a6e22e>rebuildView</span>()
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Обновление вкладок может быть полезно при использовании некоторых плагинов, например Dataview и Supercharged Links, потому что они не всегда обновляют вид в реальном времени.</p></div><div id=popover-7946dff20178fa0e444e8674965da40f class=pp><p>Иногда код dataviewjs получается слишком большим, или один и тот же кусок кода нужно использовать несколько раз в разных местах. Поэтому хочется не писать его весь в заметке, а часть кода вынести в отдельный модуль.Теоретически это можно сделать при помощи стандартного метода <code>require</code>, но проблема в том, что он не работает на мобильном.</p><p>Раньше я использовала для этого плагин CustomJS, но теперь выяснила, как можно обойтись стандартным функционалом Dataview.</p><p>Для этого используется функция <code>dv.view()</code>.</p><p>Сначала создаём файл с расширением <code>.js</code>, например, <code>my_сode.js</code>, и кладём его в любое место в своём хранилище Обсидиана. Для примера положим его в папку scripts. Пишем в нём весь код, который хотим переиспользовать. Например, напишем там следующий код:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>paragraph</span>(<span style=color:#e6db74>&#34;Hello world!&#34;</span>)
</span></span></code></pre></div><p>Затем в заметке в блоке <code>dataviewjs</code> пишем:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>view</span>(<span style=color:#e6db74>&#34;scripts/my_code&#34;</span>)
</span></span></code></pre></div><p>При этом весь код, содержащийся в файле <code>my_code.js</code> автоматически исполняется и рендерится. Но что если мы не хотим ничего сразу рендерить, а хотим вернуть какие-то функции или переменные, которые можно использовать позже? Это можно сделать следующим образом.</p><p>В файле <code>my_code.js</code> пишем:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>myFunc</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>x</span>) =&gt; {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>paragraph</span>(<span style=color:#a6e22e>x</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>myVar</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Hello world!&#34;</span>
</span></span></code></pre></div><p>И в заметке в блоке <code>dataviewjs</code> пишем:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>view</span>(<span style=color:#e6db74>&#34;scripts/my_code&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>myFunc</span>(<span style=color:#a6e22e>myVar</span>)
</span></span></code></pre></div><p>Подобным же образом можно переиспользовать любые функции или переменные.</p><p><strong>Замечание:</strong> При таком способе все функции и переменные присваиваются глобальному объекту <code>window</code>, что не очень безопасно, потому что можно случайно перезаписать какие-то существующие свойства или методы. Кажется, что безопаснее было бы использовать промежуточный объект.</p><p>Например, в файле <code>my_code.js</code> пишем:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>myFunc</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>x</span>) =&gt; {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>paragraph</span>(<span style=color:#a6e22e>x</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>myVar</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Hello world!&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>myObject</span> <span style=color:#f92672>=</span> {<span style=color:#a6e22e>myFunc</span>, <span style=color:#a6e22e>myVar</span>}
</span></span></code></pre></div><p>И в заметке в блоке <code>dataviewjs</code> пишем:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>view</span>(<span style=color:#e6db74>&#34;scripts/my_code&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> {<span style=color:#a6e22e>myFunc</span>, <span style=color:#a6e22e>myVar</span>} <span style=color:#f92672>=</span> <span style=color:#a6e22e>myObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>myFunc</span>(<span style=color:#a6e22e>myVar</span>)
</span></span></code></pre></div><p>У объекта <code>myObject</code> должно быть уникальное имя, не совпадающее ни с одним из свойств объекта <code>window</code>, но с одним объектом это легче проконтролировать, чем со множеством функций и переменных, которые мы можем использовать.</p><p>Можно также использовать класс вместо объекта. В файле <code>my_code.js</code> пишем:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>myClass</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>myClass</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>myFunc</span>() {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>paragraph</span>(<span style=color:#e6db74>&#34;Hello world!&#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>И в заметке в блоке <code>dataviewjs</code> пишем:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>view</span>(<span style=color:#e6db74>&#34;scripts/my_code&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>newClass</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>myClass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>newClass</span>.<span style=color:#a6e22e>myFunc</span>()
</span></span></code></pre></div></div><div id=popover-c77f0766f6aad3957bc6af154c5df82a class=pp><ul><li><input checked disabled type=checkbox data-task=i> Шпаргалка для писателя</li></ul><h2 id=1-акт>1 акт
<a class=anchor href=#1-%d0%b0%d0%ba%d1%82>#</a></h2><ul><li><p><strong>1% - Крючок</strong></p><ul><li>Открывающая сцена, которая должна зацепить читателя.</li></ul></li><li><p>Экспозиция</p><ul><li>Читатель знакомится с миром, героями и конфликтом. Обозначаются цели и ставки.</li></ul></li><li><p><strong>12% - Побуждающее событие</strong></p><ul><li>Первое активное вмешательство конфликта в Нормальный мир. зов приключений для героя.</li></ul></li><li><p>Завязка</p><ul><li>Складываются условия для окончательного вступления героя в конфликт. Нарастает напряжение.</li></ul></li><li><p><strong>25% - Первая переломная точка</strong></p><ul><li>Герой покидает Нормальный Мир, получает цель и вступает в конфликт.</li></ul></li></ul><h2 id=2-акт>2 акт
<a class=anchor href=#2-%d0%b0%d0%ba%d1%82>#</a></h2><ul><li><p>Реакция</p><ul><li>Герой пытается приспособиться к новым обстоятельствам.</li></ul></li><li><p><strong>37% - Первая точка фокусировки</strong></p><ul><li>Напоминание о конфликте и появление подсказок.</li></ul></li><li><p>Осознание</p><ul><li>Герой всё больше узнаёт об обстоятельствах и конфликте.</li></ul></li><li><p><strong>50% - Центральная точка</strong></p><ul><li>Момент истины. Герою раскрывается природа конфликта.</li></ul></li><li><p>Активное действие</p><ul><li>После получения ключевой информации герой переходит к решительным действиям.</li></ul></li><li><p><strong>62% - Вторая точка фокусировки</strong></p><ul><li>Предвестие катастрофы и напоминание о ставках.</li></ul></li><li><p>Обновлённая атака</p><ul><li>Герой действует ещё активнее и достигает ложной победы.</li></ul></li></ul><h2 id=3-акт>3 акт
<a class=anchor href=#3-%d0%b0%d0%ba%d1%82>#</a></h2><ul><li><p><strong>75% - Третья переломная точка</strong></p><ul><li>Ложная победа сменяется катастрофой. герой делает окончательный выбор и должен чем-то пожертвовать или что-то потерять. Самый тёмный момент.</li></ul></li><li><p>Восстановление</p><ul><li>Герой восстанавливается после катастрофы, переосмысливает свои выборы и утверждается в своей конечной цели.</li></ul></li><li><p><strong>88% - Начало кульминации</strong></p><ul><li>Герой вступает в финальное противостояние с антагонистической силой.</li></ul></li><li><p>Кульминация</p><ul><li>Высшее проявление конфликта, приводящее к его разрешению. Стреляют все ружья, даются ответы на все вопросы. Финальная битва, объяснение, разгадка.</li></ul></li><li><p><strong>98% - Кульминационный момент</strong></p><ul><li>Герой достигает своей цели или окончательно теряет её. Конфликт разрешается.</li></ul></li><li><p>Развязка</p><ul><li>Передышка после кульминации и картина её последствий.</li></ul></li></ul></div><div id=popover-c13d5bd041b56eedb04da15caaaef84b class=pp><p>Я наконец дозрела попробовать
<a href=https://syncthing.net/ rel=noopener>Syncthing</a> для синхронизации <a href=/obsidian rel=noopener class=internal-link data-src=/obsidian>Обсидиана</a>. До этого меня останавливало, что там надо, чтобы устройства были в одной сети, а как это организовать вне дома без танцев с бубном, я не знала (всё, что там про какие-то сервера и порты вызывает у меня короткое замыкание в мозгу).</p><p>Моя проблема в том, что мне надо синхронизировать файлы с рабочим компом. На работе у меня нет вайфая, стоит файервол с кучей ограничений, почти все настройки намертво заблокированы, а периодически админы вообще отключают интернет, мол, нефиг расходовать рабочий трафик попусту. Из-за этого большинство методов синхронизации у меня там не работало вообще или работало плохо (мне удалось настроить гит, но он был очень медленный). У меня была мысль раздать вайфай с телефона, но как назло мой провайдер недавно сделал раздачу интернета с телефона платной и жутко дорогой.</p><p>Но недавно я узнала, что, оказывается, Syncthing может синхронизировать вообще без интернета! Достаточно точки доступа. То есть, план действий, такой:</p><ul><li>отключаем мобильный интернет на телефоне (чтобы не расходовать платный трафик);</li><li>включаем на телефоне точку доступа;</li><li>подключаем компьютер к этой точке доступа как к вайфаю;</li><li>запускаем Syncthing.</li></ul><p>Профит! Интернета на устройствах нет, но они синхронизируются. Минус способа в том, что приходится отключать интернет на телефоне и держать активной точку доступа, что не всегда удобно, но для быстрой синхронизации в начале и в конце рабочего дня — идеально. И при желании можно синхронизировать устройства хоть в лесу, где связи нет вообще.</p></div><div id=popover-4f893d49a7cb3d19425760545f668148 class=pp><p>Obsidian — приложение для заметок.</p></div><div id=popover-1535f4b1b308cc30d355e722da698e5c class=pp><p>В <a href=/obsidian rel=noopener class=internal-link data-src=/obsidian>Обсидиане</a> очень удобно использовать свои собственные чекбоксы, например, такие:
<img src=/images/check.jpg width=check.jpg></p><p>Есть темы для Обсидиана, которые уже поддерживают некоторые из подобных чекбоксов, но можно назначить свои собственные при помощи css:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#f92672>input</span><span style=color:#f92672>[</span><span style=color:#f92672>data-task</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;h&#34;</span><span style=color:#f92672>]</span>:<span style=color:#a6e22e>checked</span><span style=color:#f92672>,</span>
</span></span><span style=display:flex><span><span style=color:#f92672>li</span><span style=color:#f92672>[</span><span style=color:#f92672>data-task</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;h&#34;</span><span style=color:#f92672>]</span> <span style=color:#f92672>&gt;</span> <span style=color:#f92672>input</span>:<span style=color:#a6e22e>checked</span><span style=color:#f92672>,</span>
</span></span><span style=display:flex><span><span style=color:#f92672>li</span><span style=color:#f92672>[</span><span style=color:#f92672>data-task</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;h&#34;</span><span style=color:#f92672>]</span> <span style=color:#f92672>&gt;</span> <span style=color:#f92672>p</span> <span style=color:#f92672>&gt;</span> <span style=color:#f92672>input</span>:<span style=color:#a6e22e>checked</span> {
</span></span><span style=display:flex><span>  --checkbox-marker-color: <span style=color:#66d9ef>transparent</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>border</span>: <span style=color:#66d9ef>none</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>border-radius</span>: <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>background-image</span>: <span style=color:#66d9ef>none</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>background-color</span>: <span style=color:#66d9ef>currentColor</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>-webkit-</span><span style=color:#66d9ef>mask-size</span>: <span style=color:#a6e22e>var</span>(<span style=color:#f92672>--</span>checkbox<span style=color:#f92672>-</span><span style=color:#66d9ef>icon</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>-webkit-</span><span style=color:#66d9ef>mask-position</span>: <span style=color:#ae81ff>50</span><span style=color:#66d9ef>%</span> <span style=color:#ae81ff>50</span><span style=color:#66d9ef>%</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>color</span>: <span style=color:#a6e22e>var</span>(<span style=color:#f92672>--</span><span style=color:#66d9ef>color</span><span style=color:#f92672>-</span><span style=color:#66d9ef>red</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>-webkit-</span><span style=color:#66d9ef>mask-image</span>: url(<span style=color:#e6db74>&#34;data:image/svg+xml,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; viewBox=&#39;0 0 24 24&#39; width=&#39;18&#39; height=&#39;18&#39; %3E%3Cpath fill=&#39;none&#39; d=&#39;M0 0H24V24H0z&#39;/%3E%3Cpath d=&#39;M12.001 4.529c2.349-2.109 5.979-2.039 8.242.228 2.262 2.268 2.34 5.88.236 8.236l-8.48 8.492-8.478-8.492c-2.104-2.356-2.025-5.974.236-8.236 2.265-2.264 5.888-2.34 8.244-.228z&#39;/%3E%3C/svg%3E&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Ссылки на svg-иконки, которые подставляются в свойство &ldquo;-webkit-mask-image&rdquo;, можно брать, например, тут:
<a href=https://remixicon.com/ rel=noopener>Remix Icon</a></p><p>Если надо сделать чекбокс некликабельным:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>.<span style=color:#a6e22e>HyperMD-task-line</span><span style=color:#f92672>[</span><span style=color:#f92672>data-task</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;h&#34;</span><span style=color:#f92672>]</span> <span style=color:#f92672>&gt;</span> .<span style=color:#a6e22e>task-list-label</span><span style=color:#f92672>,</span> 
</span></span><span style=display:flex><span><span style=color:#f92672>input</span><span style=color:#f92672>[</span><span style=color:#f92672>data-task</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;h&#34;</span><span style=color:#f92672>],</span>
</span></span><span style=display:flex><span><span style=color:#f92672>li</span><span style=color:#f92672>[</span><span style=color:#f92672>data-task</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;h&#34;</span><span style=color:#f92672>]</span> <span style=color:#f92672>&gt;</span> <span style=color:#f92672>input</span><span style=color:#f92672>,</span> 
</span></span><span style=display:flex><span><span style=color:#f92672>li</span><span style=color:#f92672>[</span><span style=color:#f92672>data-task</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;h&#34;</span><span style=color:#f92672>]</span> <span style=color:#f92672>&gt;</span> <span style=color:#f92672>p</span> <span style=color:#f92672>&gt;</span> <span style=color:#f92672>input</span>
</span></span><span style=display:flex><span> {
</span></span><span style=display:flex><span>  pointer-events: <span style=color:#66d9ef>none</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Шаблон этого сайта поддерживает некоторые кастомные чекбоксы, но не все:</p><ul><li><input checked disabled type=checkbox data-task=n> [n]</li><li><input checked disabled type=checkbox data-task=r> [r]</li><li>[>] [>]</li></ul><p>Безопаснее использовать буквы, а не символы.</p></div><div id=popover-7b4854c39e93d252ccfae3403a820529 class=pp><p>Иногда хочется украсить свой Обсидиан картинками, но чтобы это смотрелось ненавязчиво. Я не очень люблю фоновый картинки и баннеры в заметках, но мне нравится добавлять картинки в боковую панель.</p><p>Для этого нужно сперва добавить файл изображения в хранилище, открыть его, а затем перетащить и закрепить в боковой панели, над или под основными вкладками.</p><p>Но по умолчанию такая картинка смотрится не очень хорошо, потому что получаются лишние отступы, и верхняя панель занимает слишком много места. Вот как это выглядит:</p><p><img src=https://paperless-forest.ru/images/Screenshot_17.jpg width=auto alt></p><p>Чтобы улучшить отображение картинки я написала такой css-сниппет:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>:<span style=color:#a6e22e>is</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>mod-left-split</span><span style=color:#f92672>,</span> .<span style=color:#a6e22e>mod-right-split</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tabs</span>:<span style=color:#a6e22e>has</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>image-container</span><span style=color:#f92672>)</span>:<span style=color:#a6e22e>not</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>mod-active</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tab-header-container</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>display</span>: <span style=color:#66d9ef>none</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:<span style=color:#a6e22e>is</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>mod-left-split</span><span style=color:#f92672>,</span> .<span style=color:#a6e22e>mod-right-split</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tabs</span>:<span style=color:#a6e22e>has</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>image-container</span><span style=color:#f92672>)</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>max-height</span>: <span style=color:#ae81ff>150</span><span style=color:#66d9ef>px</span>;;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:<span style=color:#a6e22e>is</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>mod-left-split</span><span style=color:#f92672>,</span> .<span style=color:#a6e22e>mod-right-split</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tabs</span>:<span style=color:#a6e22e>has</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>image-container</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tab-container</span> .<span style=color:#a6e22e>view-content</span> {
</span></span><span style=display:flex><span> <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span> <span style=color:#66d9ef>overflow</span>: <span style=color:#66d9ef>hidden</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:<span style=color:#a6e22e>is</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>mod-left-split</span><span style=color:#f92672>,</span> .<span style=color:#a6e22e>mod-right-split</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tabs</span>:<span style=color:#a6e22e>has</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>image-container</span><span style=color:#f92672>)</span>:<span style=color:#a6e22e>not</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>mod-active</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tab-container</span> .<span style=color:#a6e22e>view-content</span> .<span style=color:#a6e22e>image-container</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding-top</span>: <span style=color:#ae81ff>5</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:<span style=color:#a6e22e>is</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>mod-left-split</span><span style=color:#f92672>,</span> .<span style=color:#a6e22e>mod-right-split</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tabs</span>:<span style=color:#a6e22e>has</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>image-container</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tab-container</span> .<span style=color:#a6e22e>view-content</span> .<span style=color:#a6e22e>image-container</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:<span style=color:#a6e22e>is</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>mod-left-split</span><span style=color:#f92672>,</span> .<span style=color:#a6e22e>mod-right-split</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tabs</span>:<span style=color:#a6e22e>has</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>image-container</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tab-container</span> .<span style=color:#a6e22e>view-content</span> <span style=color:#f92672>img</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>object-fit</span>: <span style=color:#66d9ef>cover</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>После подключения сниппета картинка выглядит так:</p><p><img src=https://paperless-forest.ru/images/Screenshot_16.jpg width=auto alt></p><p>Теперь она занимает всю область, без отступов, и выглядит более стильно. Верхняя панель скрыта и будет появляться только при клике на картинку.</p></div><div id=popover-2925cec99571bafe4488902eeb5e4a23 class=pp><p>Недавно появился ещё пока неофициальный плагин для Обсидиана, Canvas Style Menu, который расширяет меню редактирования карточки на холсте. С его помощью можно не только изменять цвет карточек, но и добавлять к ним любые другие стили.
Правда, по умолчанию там довольно мало настроек, но можно добавить свои настройки самостоятельно. Я долго ковырялась, но наконец настроила все правила, какие мне хотелось. Если вдруг кому тоже хочется делать в канвасе красивое, но неохота копаться в настройках и css, делюсь своим пресетом:</p><ol><li>Установите
<a href=https://github.com/michaellw/Obsidian-Canvas-Style-Menu rel=noopener>плагин</a> через BRAT. Если устанавливали раньше, обновите, там появились новые фишечки.</li><li>Скачайте
<a href=https://github.com/anareaty/obsidian-snippets/blob/main/Canvas-style-menu-preset/CSM-Reaty-settings.json rel=noopener>этот файл</a> и положите его в папку <code>.obsidian/plugins/canvas-style-menu/packages</code>. Создайте, если её нет.</li><li>Скачайте и подключите
<a href=https://github.com/anareaty/obsidian-snippets/blob/main/Canvas-style-menu-preset/csm-styles.css rel=noopener>сниппет</a>.</li><li>В настройках плагина нажмите кнопку Reload packages и выберите пакет CSM Reaty settings
Стили вдохновлялись частично Canvas Candy, частично самим плагином, но кое-что я добавила от себя. Весь функционал можно посмотреть на картинке:</li></ol><p><img src=https://raw.githubusercontent.com/anareaty/obsidian-snippets/main/Canvas-style-menu-preset/%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8-Canvas-style-menu.png width=auto alt></p></div><p><a class=comment-link href=/change-site-structure/#giscus>Оставить комментарий</a></p></p></article><article class=blog-header><h2 class=article-title><a href=/blog/news-18-12-23/>Обновления на сайте</a></h2><div class=article-date>18 декабря 2023</div><p><p>Добавила на сайт пару заметок про Обсидиан:</p><ul><li><a id=link-7946dff20178fa0e444e8674965da40f href=/how-to-reuse-dataviewjs-code rel=noopener class=internal-link data-src=/how-to-reuse-dataviewjs-code>Как переиспользовать код с помощью dataviewjs</a>;</li><li><a id=link-7b4854c39e93d252ccfae3403a820529 href=/sidebar-images rel=noopener class=internal-link data-src=/sidebar-images>Css для картинок в сайдбаре</a>.</li></ul><p>Кроме того, пофиксила добавление картинок и сделала стиль блога чуть более минималистичным.</p><div id=popover-7946dff20178fa0e444e8674965da40f class=pp><p>Иногда код dataviewjs получается слишком большим, или один и тот же кусок кода нужно использовать несколько раз в разных местах. Поэтому хочется не писать его весь в заметке, а часть кода вынести в отдельный модуль.Теоретически это можно сделать при помощи стандартного метода <code>require</code>, но проблема в том, что он не работает на мобильном.</p><p>Раньше я использовала для этого плагин CustomJS, но теперь выяснила, как можно обойтись стандартным функционалом Dataview.</p><p>Для этого используется функция <code>dv.view()</code>.</p><p>Сначала создаём файл с расширением <code>.js</code>, например, <code>my_сode.js</code>, и кладём его в любое место в своём хранилище Обсидиана. Для примера положим его в папку scripts. Пишем в нём весь код, который хотим переиспользовать. Например, напишем там следующий код:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>paragraph</span>(<span style=color:#e6db74>&#34;Hello world!&#34;</span>)
</span></span></code></pre></div><p>Затем в заметке в блоке <code>dataviewjs</code> пишем:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>view</span>(<span style=color:#e6db74>&#34;scripts/my_code&#34;</span>)
</span></span></code></pre></div><p>При этом весь код, содержащийся в файле <code>my_code.js</code> автоматически исполняется и рендерится. Но что если мы не хотим ничего сразу рендерить, а хотим вернуть какие-то функции или переменные, которые можно использовать позже? Это можно сделать следующим образом.</p><p>В файле <code>my_code.js</code> пишем:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>myFunc</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>x</span>) =&gt; {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>paragraph</span>(<span style=color:#a6e22e>x</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>myVar</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Hello world!&#34;</span>
</span></span></code></pre></div><p>И в заметке в блоке <code>dataviewjs</code> пишем:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>view</span>(<span style=color:#e6db74>&#34;scripts/my_code&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>myFunc</span>(<span style=color:#a6e22e>myVar</span>)
</span></span></code></pre></div><p>Подобным же образом можно переиспользовать любые функции или переменные.</p><p><strong>Замечание:</strong> При таком способе все функции и переменные присваиваются глобальному объекту <code>window</code>, что не очень безопасно, потому что можно случайно перезаписать какие-то существующие свойства или методы. Кажется, что безопаснее было бы использовать промежуточный объект.</p><p>Например, в файле <code>my_code.js</code> пишем:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>myFunc</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>x</span>) =&gt; {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>paragraph</span>(<span style=color:#a6e22e>x</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>myVar</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Hello world!&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>myObject</span> <span style=color:#f92672>=</span> {<span style=color:#a6e22e>myFunc</span>, <span style=color:#a6e22e>myVar</span>}
</span></span></code></pre></div><p>И в заметке в блоке <code>dataviewjs</code> пишем:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>view</span>(<span style=color:#e6db74>&#34;scripts/my_code&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> {<span style=color:#a6e22e>myFunc</span>, <span style=color:#a6e22e>myVar</span>} <span style=color:#f92672>=</span> <span style=color:#a6e22e>myObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>myFunc</span>(<span style=color:#a6e22e>myVar</span>)
</span></span></code></pre></div><p>У объекта <code>myObject</code> должно быть уникальное имя, не совпадающее ни с одним из свойств объекта <code>window</code>, но с одним объектом это легче проконтролировать, чем со множеством функций и переменных, которые мы можем использовать.</p><p>Можно также использовать класс вместо объекта. В файле <code>my_code.js</code> пишем:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>myClass</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>myClass</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>myFunc</span>() {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>paragraph</span>(<span style=color:#e6db74>&#34;Hello world!&#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>И в заметке в блоке <code>dataviewjs</code> пишем:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>view</span>(<span style=color:#e6db74>&#34;scripts/my_code&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>newClass</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>myClass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>newClass</span>.<span style=color:#a6e22e>myFunc</span>()
</span></span></code></pre></div></div><div id=popover-7b4854c39e93d252ccfae3403a820529 class=pp><p>Иногда хочется украсить свой Обсидиан картинками, но чтобы это смотрелось ненавязчиво. Я не очень люблю фоновый картинки и баннеры в заметках, но мне нравится добавлять картинки в боковую панель.</p><p>Для этого нужно сперва добавить файл изображения в хранилище, открыть его, а затем перетащить и закрепить в боковой панели, над или под основными вкладками.</p><p>Но по умолчанию такая картинка смотрится не очень хорошо, потому что получаются лишние отступы, и верхняя панель занимает слишком много места. Вот как это выглядит:</p><p><img src=https://paperless-forest.ru/images/Screenshot_17.jpg width=auto alt></p><p>Чтобы улучшить отображение картинки я написала такой css-сниппет:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>:<span style=color:#a6e22e>is</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>mod-left-split</span><span style=color:#f92672>,</span> .<span style=color:#a6e22e>mod-right-split</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tabs</span>:<span style=color:#a6e22e>has</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>image-container</span><span style=color:#f92672>)</span>:<span style=color:#a6e22e>not</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>mod-active</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tab-header-container</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>display</span>: <span style=color:#66d9ef>none</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:<span style=color:#a6e22e>is</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>mod-left-split</span><span style=color:#f92672>,</span> .<span style=color:#a6e22e>mod-right-split</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tabs</span>:<span style=color:#a6e22e>has</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>image-container</span><span style=color:#f92672>)</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>max-height</span>: <span style=color:#ae81ff>150</span><span style=color:#66d9ef>px</span>;;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:<span style=color:#a6e22e>is</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>mod-left-split</span><span style=color:#f92672>,</span> .<span style=color:#a6e22e>mod-right-split</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tabs</span>:<span style=color:#a6e22e>has</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>image-container</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tab-container</span> .<span style=color:#a6e22e>view-content</span> {
</span></span><span style=display:flex><span> <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span> <span style=color:#66d9ef>overflow</span>: <span style=color:#66d9ef>hidden</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:<span style=color:#a6e22e>is</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>mod-left-split</span><span style=color:#f92672>,</span> .<span style=color:#a6e22e>mod-right-split</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tabs</span>:<span style=color:#a6e22e>has</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>image-container</span><span style=color:#f92672>)</span>:<span style=color:#a6e22e>not</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>mod-active</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tab-container</span> .<span style=color:#a6e22e>view-content</span> .<span style=color:#a6e22e>image-container</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding-top</span>: <span style=color:#ae81ff>5</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:<span style=color:#a6e22e>is</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>mod-left-split</span><span style=color:#f92672>,</span> .<span style=color:#a6e22e>mod-right-split</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tabs</span>:<span style=color:#a6e22e>has</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>image-container</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tab-container</span> .<span style=color:#a6e22e>view-content</span> .<span style=color:#a6e22e>image-container</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:<span style=color:#a6e22e>is</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>mod-left-split</span><span style=color:#f92672>,</span> .<span style=color:#a6e22e>mod-right-split</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tabs</span>:<span style=color:#a6e22e>has</span><span style=color:#f92672>(</span>.<span style=color:#a6e22e>image-container</span><span style=color:#f92672>)</span> .<span style=color:#a6e22e>workspace-tab-container</span> .<span style=color:#a6e22e>view-content</span> <span style=color:#f92672>img</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>object-fit</span>: <span style=color:#66d9ef>cover</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>После подключения сниппета картинка выглядит так:</p><p><img src=https://paperless-forest.ru/images/Screenshot_16.jpg width=auto alt></p><p>Теперь она занимает всю область, без отступов, и выглядит более стильно. Верхняя панель скрыта и будет появляться только при клике на картинку.</p></div><p><a class=comment-link href=/blog/news-18-12-23/#giscus>Оставить комментарий</a></p></p></article><article class=blog-header><h2 class=article-title><a href=/blog/new-domain/>У сайта новый домен! 😎</a></h2><div class=article-date>03 октября 2023</div><div><a href=/tags/%D1%81%D0%B0%D0%B9%D1%82/ class=tag>#сайт</a>
<a href=/tags/%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/ class=tag>#обновления</a></div><p><p>Теперь у этого сайта есть свой собственный домен: paperless-forest.ru, взамен домена от Гитхаба.</p><p>Я немного сомневалась, нужен ли он мне, ведь его нужно покупать, потом ещё обновлять и всё такое. Но в конце концов решила, что пусть будет, стоит он недорого, зато красиво. Кроме того, с прежним гитхабовским доменом у меня возникали ошибки с некоторыми страницами, когда сайт пытался получить страницу из другого репозитория.</p><p>Теперь уже можно сказать, что у сайта есть официальное название, а не просто рабочее, как раньше. Он называется «Paperless forest», то есть «Безбумажный лес». Это звучит немного странно, как будто обычно лес бывает бумажный. 😅 Но зато название отражает идею: это лес из моих цифровых записей. Название придумано по аналогии с «цифровым садом», только с той разницей, что «лес» — это что-то куда более дикое, хаотичное и непредсказуемое, чем «сад». Это куда больше похоже на мои заметки, которым я всё время пытаюсь придать какую-то структуру, но всё равно они растут, как хотят. Ну и, сказать по правде, мне просто нравится образ леса. Я человек творческий, поэтому образы для меня важны.</p><p>Конечно, и в лесу тоже бывают свои тропинки, так что надеюсь, он не зарастёт до того состояния, что станет непроходимым. Посмотрим. 🌱</p><p><a class=comment-link href=/blog/new-domain/#giscus>Оставить комментарий</a></p></p></article><article class=blog-header><h2 class=article-title><a href=/blog/news-02-10-23/>Обновление сайта</a></h2><div class=article-date>02 октября 2023</div><div><a href=/tags/%D1%81%D0%B0%D0%B9%D1%82/ class=tag>#сайт</a>
<a href=/tags/%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/ class=tag>#обновления</a></div><p><p>Продолжаю допиливать функционал сайта:</p><ul><li>добавила бэклинки;</li><li>добавила предпросмотр ссылки при наведении.</li></ul><p>Вообще в шаблоне эти функции были изначально, но у меня они почему-то не работали. Я посмотрела на код и решила, что чем это чинить, проще с нуля самой написать. Потратила на это пару дней, но то, что получилось, мне нравится даже больше, чем то, что предполагалось в исходном шаблоне)))</p><p>Ещё немного допилила стили, но над ними ещё нужно поработать. И раздумываю, надо ли чинить граф. Он прикольный, но я им всё равно никогда не пользуюсь, и есть подозрение, что там всё тоже придётся с нуля переписывать.</p><p><a class=comment-link href=/blog/news-02-10-23/#giscus>Оставить комментарий</a></p></p></article><article class=blog-header><h2 class=article-title><a href=/blog/tags-work/>Теги теперь работают!</a></h2><div class=article-date>29 сентября 2023</div><div><a href=/tags/%D1%81%D0%B0%D0%B9%D1%82/ class=tag>#сайт</a>
<a href=/tags/%D1%82%D1%8D%D0%B3%D0%B8/ class=tag>#тэги</a>
<a href=/tags/%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/ class=tag>#обновления</a></div><p><p>Я добавила на сайт работающие тэги! 🥳</p><p>Попутно узнала много нового интересного о шаблонах Hugo. В частности узнала, что мои страдания с попытками сделать тут блог, были необязательны, потому что почти готовый шаблон был уже у меня, надо было только чуть-чуть допилить. Век живи — век учись! Ну зато теперь я и страницу блога тоже усовершенствовала, та-даам!</p><p><a class=comment-link href=/blog/tags-work/#giscus>Оставить комментарий</a></p></p></article><article class=blog-header><h2 class=article-title><a href=/blog/about-site-structure/>О структуре сайта</a></h2><div class=article-date>27 сентября 2023</div><div><a href=/tags/%D1%81%D0%B0%D0%B9%D1%82/ class=tag>#сайт</a></div><p><p>Когда я только решила создать свой сайт, я не могла решить, что лучше выбрать: формат блога, где записи расположены в хронологической последовательности, или цифрового сада, где нет хронологии, а есть только навигация при помощи ссылок. У обоих форматов есть свои плюсы и минусы. Хронологическая лента позволяет выстраивать последовательность событий и сразу оповещать об обновлениях. Но при этом старые записи теряют фокус, а ведь они могут быть важными и всё ещё актуальными. С другой стороны, в цифровом саду некуда девать временные записи, например, рассказывающие о текущих событиях, которые всё равно потеряют актуальность через некоторое время (а мне нравится фиксировать такие вещи).</p><p>В конце концов я подумала: а почему не совместить оба подхода? Сделать и хронологическую ленту, и навигацию при помощи ссылок? На таком сайте будет место для любых видов записей. Правда, мне не удалось найти подходящего шаблона для сайта и пришлось допиливать его самостоятельно (что было непросто, потому что я этого не умею), но результат мне нравится.</p><p>В итоге на этом сайте есть страница блога с хронологической лентой и есть боковое меню с деревом ссылок. В ленту блога попадают новости, записи о текущем положении дел, а также любые другие записи, которые мне по какой-то причине хочется привязать ко времени. В навигационное меню попадают только те записи, которые, как мне кажется, не потеряют актуальности со временем. На самом деле многие записи попадают и туда, и сюда, чтобы их можно было найти любым способом. Ну и, конечно, есть внутренние ссылки между записями.</p><p>В навигационном меню записи рассортированы по папкам в соответствии с темой. Эта сортировка довольно условная, и, может быть, я даже откажусь от неё. Проблема в том, что в нынешнем виде я не могу переложить запись в другую папку, не сломав её ссылку. Возможно, стоит поковыряться в шаблоне, чтобы найти способ избавиться от этого ограничения. Или вообще отказаться от папок и сделать плоскую структуру записей.</p><p><strong>Добавлено 29.09.2023 — 16:30:</strong> Хотя записи в блоге привязаны ко времени, они могут обновляться и дополняться, если мне в голову придёт ещё какая-нибудь мысль на ту же тему. Я пока не уверена, стоит ли в таком случае поднимать их в ленте (и как это технически реализовать). Я пытаюсь нащупать какой-то баланс между фиксированием временного и актуализацией постоянного.</p><p><a class=comment-link href=/blog/about-site-structure/#giscus>Оставить комментарий</a></p></p></article><article class=blog-header><h2 class=article-title><a href=/blog/about-site-content/>О содержании сайта</a></h2><div class=article-date>27 сентября 2023</div><div><a href=/tags/%D1%81%D0%B0%D0%B9%D1%82/ class=tag>#сайт</a></div><p><p>Я пока ещё раздумываю о том, что я хочу здесь писать.</p><p>Мне не хочется превращать этот сайт в какой-то серьёзный и профессиональный тематический блог или что-то подобное. Скорее это просто такое личное интернет-пространство, где я могу делиться своими мыслями и идеями. Я долгие годы делала нечто подобное в блоге на одной из популярных блог-платформ, это был скорее интернет-дневник, чем то, что блогами называют сейчас. Однако сейчас та платформа практически умерла, а современные соцсети мне не нравятся. В них неудобно писать большие тексты, а информация слишком быстро устаревает и теряется.</p><p>Я решила создать этот сайт после того, как начала использовать приложение для заметок Обсидиан. Я пишу этот пост в Обсидиане, а потом мне достаточно нажать одну кнопку и запись опубликуется на сайте. Мне пришлось установить специальный плагин и произвести некоторое количество танцев с бубном, чтобы это настроить, но после настройки всё работает очень просто.</p><p>По идее смысл в том, чтобы делиться своими заметками из Обсидиана. Некоторые так и делают, публикуют в интернете свою базу знаний. Это интересно, но лично я так не делаю, у меня в Обсидиане много заметок, но большинство из них, как мне кажется, не годятся для публикации. Они либо слишком личные, либо слишком обрывочные и непонятные постороннему человеку, либо просто недостаточно структурированные и красивые, а приводить их всех в порядок мне лень. К тому же, мне кажется, большинство из них не будет полезно никому, кроме меня, а в интернете и без того слишком много бесполезной информации. Поэтому я не выкладываю свои непосредственные заметки, а только иногда на их основе пишу специальные посты для блога, если мне действительно хочется поделиться какой-то информацией. Я хочу делиться вещами, которые могут быть кому-то интересны и полезны, а не просто всем подряд.</p><p>В то же время мне не хочется обязательно превращать каждую запись в этакую полноценную статью. Иногда это может быть какая-то короткая заметка, идея или ссылка. Или наоборот, какие-нибудь пространные рассуждения без определённой цели, мысли вслух. Вообще я не хочу загонять себя в рамки и оставляю себе свободу писать здесь всё, что вздумается. Ещё я не пытаюсь придерживаться какого-то определённого стиля, а просто пишу, как думаю.</p><p>Что касается тематики сайта, то здесь могут быть записи буквально обо всём, что мне интересно. Сейчас меня больше всего интересует само по себе ведение заметок, здесь будет много советов и идей по использованию Обсидиана. Кроме того я интересуюсь вообще разными приложениями, лайфхаками, блокнотами, писательским мастерством и книгами. Немного пишу сама, немного изучаю программирование и французский язык. Но вообще я человек увлекающийся, так что интересы могут поменяться в любой момент. Не хочу себя ни в чём ограничивать.</p><p>Пока это мои мысли о том, как я собираюсь вести этот сайт, но я только недавно его создала, так что может быть со временем что-то поменяется. Посмотрим.</p><p><a class=comment-link href=/blog/about-site-content/#giscus>Оставить комментарий</a></p></p></article><article class=blog-header><h2 class=article-title><a href=/sync-syncthing-without-internet/>Синхронизация через Syncthing без интернета</a></h2><div class=article-date>19 сентября 2023</div><div><a href=/tags/%D1%81%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F/ class=tag>#синхронизация</a>
<a href=/tags/syncthing/ class=tag>#syncthing</a></div><p><p>Я наконец дозрела попробовать
<a href=https://syncthing.net/ rel=noopener>Syncthing</a> для синхронизации <a id=link-4f893d49a7cb3d19425760545f668148 href=/obsidian rel=noopener class=internal-link data-src=/obsidian>Обсидиана</a>. До этого меня останавливало, что там надо, чтобы устройства были в одной сети, а как это организовать вне дома без танцев с бубном, я не знала (всё, что там про какие-то сервера и порты вызывает у меня короткое замыкание в мозгу).</p><p>Моя проблема в том, что мне надо синхронизировать файлы с рабочим компом. На работе у меня нет вайфая, стоит файервол с кучей ограничений, почти все настройки намертво заблокированы, а периодически админы вообще отключают интернет, мол, нефиг расходовать рабочий трафик попусту. Из-за этого большинство методов синхронизации у меня там не работало вообще или работало плохо (мне удалось настроить гит, но он был очень медленный). У меня была мысль раздать вайфай с телефона, но как назло мой провайдер недавно сделал раздачу интернета с телефона платной и жутко дорогой.</p><p>Но недавно я узнала, что, оказывается, Syncthing может синхронизировать вообще без интернета! Достаточно точки доступа. То есть, план действий, такой:</p><ul><li>отключаем мобильный интернет на телефоне (чтобы не расходовать платный трафик);</li><li>включаем на телефоне точку доступа;</li><li>подключаем компьютер к этой точке доступа как к вайфаю;</li><li>запускаем Syncthing.</li></ul><p>Профит! Интернета на устройствах нет, но они синхронизируются. Минус способа в том, что приходится отключать интернет на телефоне и держать активной точку доступа, что не всегда удобно, но для быстрой синхронизации в начале и в конце рабочего дня — идеально. И при желании можно синхронизировать устройства хоть в лесу, где связи нет вообще.</p><div id=popover-4f893d49a7cb3d19425760545f668148 class=pp><p>Obsidian — приложение для заметок.</p></div><p><a class=comment-link href=/sync-syncthing-without-internet/#giscus>Оставить комментарий</a></p></p></article><article class=blog-header><h2 class=article-title><a href=/blog/new-site/>Новый сайт! 🎉</a></h2><div class=article-date>11 сентября 2023</div><div><a href=/tags/Obsidian/ class=tag>#Obsidian</a>
<a href=/tags/%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/ class=tag>#обновления</a>
<a href=/tags/%D1%81%D0%B0%D0%B9%D1%82/ class=tag>#сайт</a></div><p><p>Я сделала этот сайт для того, чтобы публиковать здесь свои идеи и заметки.</p><p>Сайт сделан при помощи приложения <a id=link-4f893d49a7cb3d19425760545f668148 href=/obsidian rel=noopener class=internal-link data-src=/obsidian>Obsidian</a> и плагина
<a href=https://github.com/ObsidianPublisher/obsidian-github-publisher rel=noopener>Github Publisher</a>, с использованием шаблона
<a href=https://gohugo.io/ rel=noopener>Hugo</a>. В качестве шаблона я использовала тему
<a href=https://amethyst.bencuan.me/ rel=noopener>Amethyst</a>, но изрядно допилила её под себя.</p><p><strong>Что я изменила:</strong></p><ul><li><input checked disabled type=checkbox data-task=x> добавила ленту блога;</li><li><input checked disabled type=checkbox data-task=x> добавила поддержку <a id=link-1535f4b1b308cc30d355e722da698e5c href=/custom-checkboxes rel=noopener class=internal-link data-src=/custom-checkboxes>кастомных чекбоксов</a>;</li><li><input checked disabled type=checkbox data-task=x> убрала бэклинки и граф (потому что они глючат);</li><li><input checked disabled type=checkbox data-task=x> переписала стили;</li><li><input checked disabled type=checkbox data-task=x> изменила работу некоторых метаданных;</li><li><input checked disabled type=checkbox data-task=x> добавила профильное изображение и панель с иконками;</li><li><input checked disabled type=checkbox data-task=x> ещё всякие мелкие детали.</li></ul><p><strong>Что ещё хочу сделать:</strong></p><ul><li><input checked disabled type=checkbox data-task=x> попробовать добавить фильтрацию по тэгам (сейчас они чисто декоративные);</li><li><input disabled type=checkbox data-task=" "> попробовать починить бэклинки и граф;</li><li><input disabled type=checkbox data-task=" "> отрефакторить добавленные изменения, чтобы было проще кастомизировать.</li></ul><p><strong>Примечание:</strong> посмотреть документацию к теме
<a href=https://quartz.jzhao.xyz/ rel=noopener>Quartz</a>.</p><p>На самом деле я ничего не понимаю в языке шаблонов Hugo, поэтому редактировала практически наощупь, но вроде бы получилось не так уж плохо. 😊</p><div id=popover-4f893d49a7cb3d19425760545f668148 class=pp><p>Obsidian — приложение для заметок.</p></div><div id=popover-1535f4b1b308cc30d355e722da698e5c class=pp><p>В <a href=/obsidian rel=noopener class=internal-link data-src=/obsidian>Обсидиане</a> очень удобно использовать свои собственные чекбоксы, например, такие:
<img src=/images/check.jpg width=check.jpg></p><p>Есть темы для Обсидиана, которые уже поддерживают некоторые из подобных чекбоксов, но можно назначить свои собственные при помощи css:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#f92672>input</span><span style=color:#f92672>[</span><span style=color:#f92672>data-task</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;h&#34;</span><span style=color:#f92672>]</span>:<span style=color:#a6e22e>checked</span><span style=color:#f92672>,</span>
</span></span><span style=display:flex><span><span style=color:#f92672>li</span><span style=color:#f92672>[</span><span style=color:#f92672>data-task</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;h&#34;</span><span style=color:#f92672>]</span> <span style=color:#f92672>&gt;</span> <span style=color:#f92672>input</span>:<span style=color:#a6e22e>checked</span><span style=color:#f92672>,</span>
</span></span><span style=display:flex><span><span style=color:#f92672>li</span><span style=color:#f92672>[</span><span style=color:#f92672>data-task</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;h&#34;</span><span style=color:#f92672>]</span> <span style=color:#f92672>&gt;</span> <span style=color:#f92672>p</span> <span style=color:#f92672>&gt;</span> <span style=color:#f92672>input</span>:<span style=color:#a6e22e>checked</span> {
</span></span><span style=display:flex><span>  --checkbox-marker-color: <span style=color:#66d9ef>transparent</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>border</span>: <span style=color:#66d9ef>none</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>border-radius</span>: <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>background-image</span>: <span style=color:#66d9ef>none</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>background-color</span>: <span style=color:#66d9ef>currentColor</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>-webkit-</span><span style=color:#66d9ef>mask-size</span>: <span style=color:#a6e22e>var</span>(<span style=color:#f92672>--</span>checkbox<span style=color:#f92672>-</span><span style=color:#66d9ef>icon</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>-webkit-</span><span style=color:#66d9ef>mask-position</span>: <span style=color:#ae81ff>50</span><span style=color:#66d9ef>%</span> <span style=color:#ae81ff>50</span><span style=color:#66d9ef>%</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>color</span>: <span style=color:#a6e22e>var</span>(<span style=color:#f92672>--</span><span style=color:#66d9ef>color</span><span style=color:#f92672>-</span><span style=color:#66d9ef>red</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>-webkit-</span><span style=color:#66d9ef>mask-image</span>: url(<span style=color:#e6db74>&#34;data:image/svg+xml,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; viewBox=&#39;0 0 24 24&#39; width=&#39;18&#39; height=&#39;18&#39; %3E%3Cpath fill=&#39;none&#39; d=&#39;M0 0H24V24H0z&#39;/%3E%3Cpath d=&#39;M12.001 4.529c2.349-2.109 5.979-2.039 8.242.228 2.262 2.268 2.34 5.88.236 8.236l-8.48 8.492-8.478-8.492c-2.104-2.356-2.025-5.974.236-8.236 2.265-2.264 5.888-2.34 8.244-.228z&#39;/%3E%3C/svg%3E&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Ссылки на svg-иконки, которые подставляются в свойство &ldquo;-webkit-mask-image&rdquo;, можно брать, например, тут:
<a href=https://remixicon.com/ rel=noopener>Remix Icon</a></p><p>Если надо сделать чекбокс некликабельным:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>.<span style=color:#a6e22e>HyperMD-task-line</span><span style=color:#f92672>[</span><span style=color:#f92672>data-task</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;h&#34;</span><span style=color:#f92672>]</span> <span style=color:#f92672>&gt;</span> .<span style=color:#a6e22e>task-list-label</span><span style=color:#f92672>,</span> 
</span></span><span style=display:flex><span><span style=color:#f92672>input</span><span style=color:#f92672>[</span><span style=color:#f92672>data-task</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;h&#34;</span><span style=color:#f92672>],</span>
</span></span><span style=display:flex><span><span style=color:#f92672>li</span><span style=color:#f92672>[</span><span style=color:#f92672>data-task</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;h&#34;</span><span style=color:#f92672>]</span> <span style=color:#f92672>&gt;</span> <span style=color:#f92672>input</span><span style=color:#f92672>,</span> 
</span></span><span style=display:flex><span><span style=color:#f92672>li</span><span style=color:#f92672>[</span><span style=color:#f92672>data-task</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;h&#34;</span><span style=color:#f92672>]</span> <span style=color:#f92672>&gt;</span> <span style=color:#f92672>p</span> <span style=color:#f92672>&gt;</span> <span style=color:#f92672>input</span>
</span></span><span style=display:flex><span> {
</span></span><span style=display:flex><span>  pointer-events: <span style=color:#66d9ef>none</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Шаблон этого сайта поддерживает некоторые кастомные чекбоксы, но не все:</p><ul><li><input checked disabled type=checkbox data-task=n> [n]</li><li><input checked disabled type=checkbox data-task=r> [r]</li><li>[>] [>]</li></ul><p>Безопаснее использовать буквы, а не символы.</p></div><p><a class=comment-link href=/blog/new-site/#giscus>Оставить комментарий</a></p></p></article><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div></main></body></html>